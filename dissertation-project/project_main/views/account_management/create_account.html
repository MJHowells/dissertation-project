<!-- Page enables users to update their password     -->

{% extends 'base.html' %}
{% block content %}

<form id="create_account" action="" method="POST" novalidate>
    <h1>Create Account</h1>
    {{ form.hidden_tag() }}
    <div id="create_acc_names">
        <p>
            {{form.first_name.label}} <br>
            {{form.first_name(size=32)}}
            {% for error in form.first_name.errors %} <br>
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{form.last_name.label}} <br>
            {{form.last_name(size=32)}}
            {% for error in form.last_name.errors %} <br>
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
    </div>
    <p>
        {{form.email.label}} <br>
        {{form.email(size=32)}}
        {% for error in form.email.errors %} <br>
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </p>
        <p>
            {{form.password.label}} <br>
            {{form.password(size=32)}} 
            {% for error in form.password.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{form.confirm_password.label}} <br>
            {{form.confirm_password(size=32)}} 
            {% for error in form.confirm_password.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>

      <div>
            <p>What types of media would you like to record?</p>
            <input class="form-check-input" type="checkbox" name="media_type" value="movie">Movies<br>
            <input class="form-check-input" type="checkbox" name="media_type" value="book">Books<br>
            <input class="form-check-input" type="checkbox" name="media_type" value="audiobook">Audio Books<br>
            <input class="form-check-input" type="checkbox" name="media_type" value="video_game">Video Games<br>
        </div>
        <section id="create_acc_reg_btn">
            <div></div>
            <div>
                <input style="position: relative; bottom: 0;" class="btn btn-success" type="button" id="btnSubmit" name="btnSubmit" value="Register Account">
            </div>
            <div></div>
        </section>

</form>

<div>
</div>
{% endblock %}

{% block scripts %}
    <script>    
    document.getElementById("first_name").setAttribute("class", "form-control")
    document.getElementById("last_name").setAttribute("class", "form-control")
    document.getElementById("email").setAttribute("class", "form-control")
    document.getElementById("password").setAttribute("class", "form-control")
    document.getElementById("confirm_password").setAttribute("class", "form-control")


        document.getElementById("btnSubmit").addEventListener("click", function() {
            check_confirm = document.querySelectorAll("[name='media_type']:checked")

            if (check_confirm.length === 0) {
                alert("Please choose at least one type of media to record in this application")
                return false
            } else {
                document.getElementById("create_account").submit()
                // alert("Account Created!")
                return false;
            }
        }, false);


    </script>
{% endblock %}